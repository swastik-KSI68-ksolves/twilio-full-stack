{"ast":null,"code":"'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n/* global webkitRTCPeerConnection, mozRTCPeerConnection, mozRTCSessionDescription, mozRTCIceCandidate */\nvar RTCPeerConnectionShim = require('rtcpeerconnection-shim');\nvar Log = require('../log').default;\nvar _require = require('./sdp'),\n  setCodecPreferences = _require.setCodecPreferences,\n  setMaxAverageBitrate = _require.setMaxAverageBitrate;\nvar util = require('../util');\nfunction RTCPC(options) {\n  if (typeof window === 'undefined') {\n    this.log.info('No RTCPeerConnection implementation available. The window object was not found.');\n    return;\n  }\n  if (options && options.RTCPeerConnection) {\n    this.RTCPeerConnection = options.RTCPeerConnection;\n  } else if (util.isLegacyEdge()) {\n    this.RTCPeerConnection = new RTCPeerConnectionShim(typeof window !== 'undefined' ? window : global);\n  } else if (typeof window.RTCPeerConnection === 'function') {\n    this.RTCPeerConnection = window.RTCPeerConnection;\n  } else if (typeof window.webkitRTCPeerConnection === 'function') {\n    this.RTCPeerConnection = webkitRTCPeerConnection;\n  } else if (typeof window.mozRTCPeerConnection === 'function') {\n    this.RTCPeerConnection = mozRTCPeerConnection;\n    window.RTCSessionDescription = mozRTCSessionDescription;\n    window.RTCIceCandidate = mozRTCIceCandidate;\n  } else {\n    this.log.info('No RTCPeerConnection implementation available');\n  }\n}\nRTCPC.prototype.create = function (rtcConstraints, rtcConfiguration) {\n  this.log = Log.getInstance();\n  this.pc = new this.RTCPeerConnection(rtcConfiguration, rtcConstraints);\n};\nRTCPC.prototype.createModernConstraints = function (c) {\n  // createOffer differs between Chrome 23 and Chrome 24+.\n  // See https://groups.google.com/forum/?fromgroups=#!topic/discuss-webrtc/JBDZtrMumyU\n  // Unfortunately I haven't figured out a way to detect which format\n  // is required ahead of time, so we'll first try the old way, and\n  // if we get an exception, then we'll try the new way.\n  if (typeof c === 'undefined') {\n    return null;\n  }\n  // NOTE(mroberts): As of Chrome 38, Chrome still appears to expect\n  // constraints under the 'mandatory' key, and with the first letter of each\n  // constraint capitalized. Firefox, on the other hand, has deprecated the\n  // 'mandatory' key and does not expect the first letter of each constraint\n  // capitalized.\n  var nc = Object.assign({}, c);\n  if (typeof webkitRTCPeerConnection !== 'undefined' && !util.isLegacyEdge()) {\n    nc.mandatory = {};\n    if (typeof c.audio !== 'undefined') {\n      nc.mandatory.OfferToReceiveAudio = c.audio;\n    }\n    if (typeof c.video !== 'undefined') {\n      nc.mandatory.OfferToReceiveVideo = c.video;\n    }\n  } else {\n    if (typeof c.audio !== 'undefined') {\n      nc.offerToReceiveAudio = c.audio;\n    }\n    if (typeof c.video !== 'undefined') {\n      nc.offerToReceiveVideo = c.video;\n    }\n  }\n  delete nc.audio;\n  delete nc.video;\n  return nc;\n};\nRTCPC.prototype.createOffer = function (maxAverageBitrate, codecPreferences, constraints, onSuccess, onError) {\n  var _this = this;\n  constraints = this.createModernConstraints(constraints);\n  return promisifyCreate(this.pc.createOffer, this.pc)(constraints).then(function (offer) {\n    if (!_this.pc) {\n      return Promise.resolve();\n    }\n    var sdp = setMaxAverageBitrate(offer.sdp, maxAverageBitrate);\n    return promisifySet(_this.pc.setLocalDescription, _this.pc)(new RTCSessionDescription({\n      type: 'offer',\n      sdp: setCodecPreferences(sdp, codecPreferences)\n    }));\n  }).then(onSuccess, onError);\n};\nRTCPC.prototype.createAnswer = function (maxAverageBitrate, codecPreferences, constraints, onSuccess, onError) {\n  var _this2 = this;\n  constraints = this.createModernConstraints(constraints);\n  return promisifyCreate(this.pc.createAnswer, this.pc)(constraints).then(function (answer) {\n    if (!_this2.pc) {\n      return Promise.resolve();\n    }\n    var sdp = setMaxAverageBitrate(answer.sdp, maxAverageBitrate);\n    return promisifySet(_this2.pc.setLocalDescription, _this2.pc)(new RTCSessionDescription({\n      type: 'answer',\n      sdp: setCodecPreferences(sdp, codecPreferences)\n    }));\n  }).then(onSuccess, onError);\n};\nRTCPC.prototype.processSDP = function (maxAverageBitrate, codecPreferences, sdp, constraints, onSuccess, onError) {\n  var _this3 = this;\n  sdp = setCodecPreferences(sdp, codecPreferences);\n  var desc = new RTCSessionDescription({\n    sdp: sdp,\n    type: 'offer'\n  });\n  return promisifySet(this.pc.setRemoteDescription, this.pc)(desc).then(function () {\n    _this3.createAnswer(maxAverageBitrate, codecPreferences, constraints, onSuccess, onError);\n  });\n};\nRTCPC.prototype.getSDP = function () {\n  return this.pc.localDescription.sdp;\n};\nRTCPC.prototype.processAnswer = function (codecPreferences, sdp, onSuccess, onError) {\n  if (!this.pc) {\n    return Promise.resolve();\n  }\n  sdp = setCodecPreferences(sdp, codecPreferences);\n  return promisifySet(this.pc.setRemoteDescription, this.pc)(new RTCSessionDescription({\n    sdp: sdp,\n    type: 'answer'\n  })).then(onSuccess, onError);\n};\n/* NOTE(mroberts): Firefox 18 through 21 include a `mozRTCPeerConnection`\n   object, but attempting to instantiate it will throw the error\n\n       Error: PeerConnection not enabled (did you set the pref?)\n\n   unless the `media.peerconnection.enabled` pref is enabled. So we need to test\n   if we can actually instantiate `mozRTCPeerConnection`; however, if the user\n   *has* enabled `media.peerconnection.enabled`, we need to perform the same\n   test that we use to detect Firefox 24 and above, namely:\n\n       typeof (new mozRTCPeerConnection()).getLocalStreams === 'function'\n\n\n    NOTE(rrowland): We no longer support Legacy Edge as of Sep 1, 2020.\n*/\nRTCPC.test = function () {\n  if ((typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object') {\n    var getUserMedia = navigator.mediaDevices && navigator.mediaDevices.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia;\n    if (util.isLegacyEdge(navigator)) {\n      return false;\n    }\n    if (getUserMedia && typeof window.RTCPeerConnection === 'function') {\n      return true;\n    } else if (getUserMedia && typeof window.webkitRTCPeerConnection === 'function') {\n      return true;\n    } else if (getUserMedia && typeof window.mozRTCPeerConnection === 'function') {\n      try {\n        // eslint-disable-next-line babel/new-cap\n        var test = new window.mozRTCPeerConnection();\n        if (typeof test.getLocalStreams !== 'function') return false;\n      } catch (e) {\n        return false;\n      }\n      return true;\n    } else if (typeof RTCIceGatherer !== 'undefined') {\n      return true;\n    }\n  }\n  return false;\n};\nfunction promisify(fn, ctx, areCallbacksFirst, checkRval) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    return new Promise(function (resolve) {\n      var returnValue = fn.apply(ctx, args);\n      if (!checkRval) {\n        resolve(returnValue);\n        return;\n      }\n      if ((typeof returnValue === 'undefined' ? 'undefined' : _typeof(returnValue)) === 'object' && typeof returnValue.then === 'function') {\n        resolve(returnValue);\n      } else {\n        throw new Error();\n      }\n    }).catch(function () {\n      return new Promise(function (resolve, reject) {\n        fn.apply(ctx, areCallbacksFirst ? [resolve, reject].concat(args) : args.concat([resolve, reject]));\n      });\n    });\n  };\n}\nfunction promisifyCreate(fn, ctx) {\n  return promisify(fn, ctx, true, true);\n}\nfunction promisifySet(fn, ctx) {\n  return promisify(fn, ctx, false, false);\n}\nmodule.exports = RTCPC;","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","RTCPeerConnectionShim","require","Log","default","_require","setCodecPreferences","setMaxAverageBitrate","util","RTCPC","options","window","log","info","RTCPeerConnection","isLegacyEdge","global","webkitRTCPeerConnection","mozRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","create","rtcConstraints","rtcConfiguration","getInstance","pc","createModernConstraints","c","nc","Object","assign","mandatory","audio","OfferToReceiveAudio","video","OfferToReceiveVideo","offerToReceiveAudio","offerToReceiveVideo","createOffer","maxAverageBitrate","codecPreferences","constraints","onSuccess","onError","_this","promisifyCreate","then","offer","Promise","resolve","sdp","promisifySet","setLocalDescription","type","createAnswer","_this2","answer","processSDP","_this3","desc","setRemoteDescription","getSDP","localDescription","processAnswer","test","navigator","getUserMedia","mediaDevices","webkitGetUserMedia","mozGetUserMedia","getLocalStreams","e","RTCIceGatherer","promisify","fn","ctx","areCallbacksFirst","checkRval","args","Array","slice","call","arguments","returnValue","apply","Error","catch","reject","concat","module","exports"],"sources":["/home/swastikksi/Documents/react/twilio-Ksolves/node_modules/twilio-client/es5/twilio/rtc/rtcpc.js"],"sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* global webkitRTCPeerConnection, mozRTCPeerConnection, mozRTCSessionDescription, mozRTCIceCandidate */\nvar RTCPeerConnectionShim = require('rtcpeerconnection-shim');\nvar Log = require('../log').default;\n\nvar _require = require('./sdp'),\n    setCodecPreferences = _require.setCodecPreferences,\n    setMaxAverageBitrate = _require.setMaxAverageBitrate;\n\nvar util = require('../util');\n\nfunction RTCPC(options) {\n  if (typeof window === 'undefined') {\n    this.log.info('No RTCPeerConnection implementation available. The window object was not found.');\n    return;\n  }\n\n  if (options && options.RTCPeerConnection) {\n    this.RTCPeerConnection = options.RTCPeerConnection;\n  } else if (util.isLegacyEdge()) {\n    this.RTCPeerConnection = new RTCPeerConnectionShim(typeof window !== 'undefined' ? window : global);\n  } else if (typeof window.RTCPeerConnection === 'function') {\n    this.RTCPeerConnection = window.RTCPeerConnection;\n  } else if (typeof window.webkitRTCPeerConnection === 'function') {\n    this.RTCPeerConnection = webkitRTCPeerConnection;\n  } else if (typeof window.mozRTCPeerConnection === 'function') {\n    this.RTCPeerConnection = mozRTCPeerConnection;\n    window.RTCSessionDescription = mozRTCSessionDescription;\n    window.RTCIceCandidate = mozRTCIceCandidate;\n  } else {\n    this.log.info('No RTCPeerConnection implementation available');\n  }\n}\n\nRTCPC.prototype.create = function (rtcConstraints, rtcConfiguration) {\n  this.log = Log.getInstance();\n  this.pc = new this.RTCPeerConnection(rtcConfiguration, rtcConstraints);\n};\nRTCPC.prototype.createModernConstraints = function (c) {\n  // createOffer differs between Chrome 23 and Chrome 24+.\n  // See https://groups.google.com/forum/?fromgroups=#!topic/discuss-webrtc/JBDZtrMumyU\n  // Unfortunately I haven't figured out a way to detect which format\n  // is required ahead of time, so we'll first try the old way, and\n  // if we get an exception, then we'll try the new way.\n  if (typeof c === 'undefined') {\n    return null;\n  }\n  // NOTE(mroberts): As of Chrome 38, Chrome still appears to expect\n  // constraints under the 'mandatory' key, and with the first letter of each\n  // constraint capitalized. Firefox, on the other hand, has deprecated the\n  // 'mandatory' key and does not expect the first letter of each constraint\n  // capitalized.\n  var nc = Object.assign({}, c);\n  if (typeof webkitRTCPeerConnection !== 'undefined' && !util.isLegacyEdge()) {\n    nc.mandatory = {};\n    if (typeof c.audio !== 'undefined') {\n      nc.mandatory.OfferToReceiveAudio = c.audio;\n    }\n    if (typeof c.video !== 'undefined') {\n      nc.mandatory.OfferToReceiveVideo = c.video;\n    }\n  } else {\n    if (typeof c.audio !== 'undefined') {\n      nc.offerToReceiveAudio = c.audio;\n    }\n    if (typeof c.video !== 'undefined') {\n      nc.offerToReceiveVideo = c.video;\n    }\n  }\n\n  delete nc.audio;\n  delete nc.video;\n\n  return nc;\n};\nRTCPC.prototype.createOffer = function (maxAverageBitrate, codecPreferences, constraints, onSuccess, onError) {\n  var _this = this;\n\n  constraints = this.createModernConstraints(constraints);\n  return promisifyCreate(this.pc.createOffer, this.pc)(constraints).then(function (offer) {\n    if (!_this.pc) {\n      return Promise.resolve();\n    }\n\n    var sdp = setMaxAverageBitrate(offer.sdp, maxAverageBitrate);\n\n    return promisifySet(_this.pc.setLocalDescription, _this.pc)(new RTCSessionDescription({\n      type: 'offer',\n      sdp: setCodecPreferences(sdp, codecPreferences)\n    }));\n  }).then(onSuccess, onError);\n};\nRTCPC.prototype.createAnswer = function (maxAverageBitrate, codecPreferences, constraints, onSuccess, onError) {\n  var _this2 = this;\n\n  constraints = this.createModernConstraints(constraints);\n  return promisifyCreate(this.pc.createAnswer, this.pc)(constraints).then(function (answer) {\n    if (!_this2.pc) {\n      return Promise.resolve();\n    }\n    var sdp = setMaxAverageBitrate(answer.sdp, maxAverageBitrate);\n\n    return promisifySet(_this2.pc.setLocalDescription, _this2.pc)(new RTCSessionDescription({\n      type: 'answer',\n      sdp: setCodecPreferences(sdp, codecPreferences)\n    }));\n  }).then(onSuccess, onError);\n};\nRTCPC.prototype.processSDP = function (maxAverageBitrate, codecPreferences, sdp, constraints, onSuccess, onError) {\n  var _this3 = this;\n\n  sdp = setCodecPreferences(sdp, codecPreferences);\n  var desc = new RTCSessionDescription({ sdp: sdp, type: 'offer' });\n  return promisifySet(this.pc.setRemoteDescription, this.pc)(desc).then(function () {\n    _this3.createAnswer(maxAverageBitrate, codecPreferences, constraints, onSuccess, onError);\n  });\n};\nRTCPC.prototype.getSDP = function () {\n  return this.pc.localDescription.sdp;\n};\nRTCPC.prototype.processAnswer = function (codecPreferences, sdp, onSuccess, onError) {\n  if (!this.pc) {\n    return Promise.resolve();\n  }\n  sdp = setCodecPreferences(sdp, codecPreferences);\n\n  return promisifySet(this.pc.setRemoteDescription, this.pc)(new RTCSessionDescription({ sdp: sdp, type: 'answer' })).then(onSuccess, onError);\n};\n/* NOTE(mroberts): Firefox 18 through 21 include a `mozRTCPeerConnection`\n   object, but attempting to instantiate it will throw the error\n\n       Error: PeerConnection not enabled (did you set the pref?)\n\n   unless the `media.peerconnection.enabled` pref is enabled. So we need to test\n   if we can actually instantiate `mozRTCPeerConnection`; however, if the user\n   *has* enabled `media.peerconnection.enabled`, we need to perform the same\n   test that we use to detect Firefox 24 and above, namely:\n\n       typeof (new mozRTCPeerConnection()).getLocalStreams === 'function'\n\n\n    NOTE(rrowland): We no longer support Legacy Edge as of Sep 1, 2020.\n*/\nRTCPC.test = function () {\n  if ((typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object') {\n    var getUserMedia = navigator.mediaDevices && navigator.mediaDevices.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia;\n\n    if (util.isLegacyEdge(navigator)) {\n      return false;\n    }\n\n    if (getUserMedia && typeof window.RTCPeerConnection === 'function') {\n      return true;\n    } else if (getUserMedia && typeof window.webkitRTCPeerConnection === 'function') {\n      return true;\n    } else if (getUserMedia && typeof window.mozRTCPeerConnection === 'function') {\n      try {\n        // eslint-disable-next-line babel/new-cap\n        var test = new window.mozRTCPeerConnection();\n        if (typeof test.getLocalStreams !== 'function') return false;\n      } catch (e) {\n        return false;\n      }\n      return true;\n    } else if (typeof RTCIceGatherer !== 'undefined') {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nfunction promisify(fn, ctx, areCallbacksFirst, checkRval) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n\n    return new Promise(function (resolve) {\n      var returnValue = fn.apply(ctx, args);\n      if (!checkRval) {\n        resolve(returnValue);\n        return;\n      }\n      if ((typeof returnValue === 'undefined' ? 'undefined' : _typeof(returnValue)) === 'object' && typeof returnValue.then === 'function') {\n        resolve(returnValue);\n      } else {\n        throw new Error();\n      }\n    }).catch(function () {\n      return new Promise(function (resolve, reject) {\n        fn.apply(ctx, areCallbacksFirst ? [resolve, reject].concat(args) : args.concat([resolve, reject]));\n      });\n    });\n  };\n}\n\nfunction promisifyCreate(fn, ctx) {\n  return promisify(fn, ctx, true, true);\n}\n\nfunction promisifySet(fn, ctx) {\n  return promisify(fn, ctx, false, false);\n}\n\nmodule.exports = RTCPC;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}